{"data":{"markdownRemark":{"html":"<ol start=\"0\">\n<li>\n<p>Going to create a basic site from a csv. one page per record in csv.</p>\n</li>\n<li>\n<p>Install gatsby and create a basic site</p>\n</li>\n</ol>\n<pre><code>npm install -g gatsby\ngatsby new geocoder-test\ncd geocoder-test\n</code></pre>\n<p>x. Download the data</p>\n<pre><code>mkdir data\nwget xxx\n</code></pre>\n<p>x. use the csv to generate pages</p>\n<pre><code>npm i --save gatsby-transformer-csv\n</code></pre>\n<p>x. install the geocode plugin to geocode values</p>\n<pre><code>npm i --save gatsby-transformer-opencage-geocoder opencage-api-client\n</code></pre>\n<p>x. install the leaflet plugin to display on the map\nand xxx create a map component</p>\n<pre><code>npm i --save gatsby-plugin-react-leaflet react-leaflet leaflet\n</code></pre>\n<p>modify gatsby-config.js </p>\n<pre><code>    {\n        resolve: 'gatsby-source-filesystem',\n        options: {\n            name: 'data',\n            path: '${__dirname}/data/',\n        },\n    },\n    {\n        resolve: 'gatsby-transformer-opencage-geocoder',\n        options: {\n            api_key: '&#x3C;YOUR_API_KEY>',\n            nodeTypes: [\n                {\n                    nodeType: 'TestCsv',\n                    addressFields: ['address1', 'address2', 'town', 'postcode'],\n                },\n            ]\n        }\n    },\n    'gatsby-transformer-csv',\n</code></pre>\n<p>xxx copy gatsby-node here to create nodes</p>\n<p>xxx copy template here </p>\n<p>xxx start gatsby develop</p>\n<p>xxx goto url</p>","frontmatter":{"date":"March 01, 2019","path":"/tutorials/geocoding-with-opencage","title":"Geocoding with the OpenCage Geocoder"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}